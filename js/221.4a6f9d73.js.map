{"version":3,"file":"js/221.4a6f9d73.js","mappings":"YAQAA,eAAeC,IAEbC,KAAKC,cAAgBC,oBACfF,KAAKC,QAAQE,YAAY,CAAC,QAAS,aAAc,UAAW,CAAEC,gBAAiBA,OAAWC,cAAeA,QACjH,CANAC,cAAc,4DAOd,IAAIC,EAAsBR,IAE1BC,KAAKQ,UAAYV,gBAETS,EAEN,MAAM,GAAEE,EAAE,OAAEC,KAAWC,GAAYC,EAAMC,KAEzC,IAAK,MAAMC,KAAOC,OAAOC,KAAKL,GAC5BX,KAAKc,GAAOH,EAAQG,GAGtB,UACQd,KAAKC,QAAQgB,wBAAwBP,EAAQ,CAAEN,gBAAiBA,OAAWC,cAAeA,SAChG,IAAIa,QAAgBlB,KAAKC,QAAQkB,eAAeT,GAChD,MAAMU,EAASF,EAAQG,OACvBH,EAAQI,UACRtB,KAAKuB,YAAY,CAAEL,QAASE,EAAQX,MACtC,CAAE,MAAOe,GACPxB,KAAKuB,YAAY,CAAEC,MAAOA,EAAMC,QAAShB,MAC3C,E","sources":["webpack://mlfit/./src/helpers/webworker.js"],"sourcesContent":["// webworker.js\n\n// Setup your project to serve `py-worker.js`. You should also serve\n// `pyodide.js`, and all its associated `.asm.js`, `.json`,\n// and `.wasm` files as well:\n// eslint-disable-next-line no-undef\nimportScripts(\"https://cdn.jsdelivr.net/pyodide/v0.27.1/full/pyodide.js\");\n\nasync function loadPyodideAndPackages() {\n  // eslint-disable-next-line no-undef\n  self.pyodide = await loadPyodide();\n  await self.pyodide.loadPackage([\"numpy\", \"matplotlib\", \"pandas\"], { messageCallback: () => { }, errorCallback: () => { } });\n}\nlet pyodideReadyPromise = loadPyodideAndPackages();\n\nself.onmessage = async (event) => {\n  // make sure loading is done\n  await pyodideReadyPromise;\n  // Don't bother yet with this line, suppose our API is built in such a way:\n  const { id, python, ...context } = event.data;\n  // The worker copies the context in its own \"memory\" (an object mapping name to values)\n  for (const key of Object.keys(context)) {\n    self[key] = context[key];\n  }\n  // Now is the easy part, the one that is similar to working in the main thread:\n  try {\n    await self.pyodide.loadPackagesFromImports(python, { messageCallback: () => { }, errorCallback: () => { } });\n    let results = await self.pyodide.runPythonAsync(python);\n    const result = results.toJs()\n    results.destroy()\n    self.postMessage({ results: result, id });\n  } catch (error) {\n    self.postMessage({ error: error.message, id });\n  }\n};"],"names":["async","loadPyodideAndPackages","self","pyodide","loadPyodide","loadPackage","messageCallback","errorCallback","importScripts","pyodideReadyPromise","onmessage","id","python","context","event","data","key","Object","keys","loadPackagesFromImports","results","runPythonAsync","result","toJs","destroy","postMessage","error","message"],"sourceRoot":""}